---
date: 2019-10-09 09:04:29 +0
title: Ello 2019-10-09T09:04:29.046Z
---
リモートのマシンで X アプリケーションを動かしてローカルのマシンからたまに覗けるようにする。

-   材料：
    -   Xvfb：X のバーチャルフレームバッファ。これを X サーバとしてリモートのマシンにインストール。
    -   x11vnc：VNC 越しに X の既存のディスプレイに接続する。
-   x11vnc はローカルマシン上の X サーバにしか接続できないっぽいので、x11vnc と Xvfb は同じマシンにインストール。
-   Docker で動かす場合は同一のコンテナに入れる。
    -   さらに、Docker の制約なのか Xvfb の制約なのか分からないけど、Xvfb も X アプリと同じホストで動いてないといけないっぽい。
    -   なのでアプリと Xvfb と x11vnc は同一コンテナで動かす。
-   x11vnc はたまに落ちるので、自動的に再起動するようにしておく。転んでも泣かない。
-   VNC の接続は Mac に標準搭載の画面共有アプリを使うと簡単。
    -   ただし画面共有アプリは VNC のキャッシュに対応していないので、x11vnc 側でキャッシュを無効にしておく。



