---
date: 2020-12-15 01:33:47 +0
title: Ello 2020-12-15T01:33:47.346Z
---
![](https://assets3.ello.co/uploads/asset/attachment/12362693/ello-optimized-feb59caa.jpg)

Linux 版の #UE4 がクラッシュする。Vulkan 関連のメモリアロケータで、メモリのフリーリストの容量を超えてメモリを要求されて死んでいるらしい。実際にクラッシュしている部分のコードは 5 年くらい変わってないので、メモリアロケーションの頻度が 4.26 で大幅に増えたのが原因のような気がする。

メモリアロケーションのコードにログを仕込んでみてみると、どうやら Blueprint のエディタを操作している間に高頻度にメモリが要求されているらしい。レベルエディタを触っているときはおとなしく動いていた。

さらにいろいろ試してみると、Blueprint エディタのウィンドウをメインのウィンドウのタブに統合したときにのみ高頻度のアロケーションが発生することが分かった。Blueprint を別のウィンドウにしたまま編集していればこの問題はアロケーションの頻度がずっと低いので、クラッシュには至らない。

